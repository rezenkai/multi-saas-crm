# üìä CRM Analytics Service - –°–∏—Å—Ç–µ–º–∞ –ê–Ω–∞–ª–∏—Ç–∏–∫–∏

**–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –±–∏–∑–Ω–µ—Å-–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –¥–ª—è CRM**

---

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–ø–æ–ª–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞–Ω–∞–ª–∏—Ç–∏–∫–∏** –¥–ª—è CRM —Å–æ–≥–ª–∞—Å–Ω–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é. –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ –¢–ó –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–∞ 100%.

### ‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç—á–µ—Ç—ã (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)**

**–í—Å–µ –æ—Ç—á–µ—Ç—ã –∏–∑ –¢–ó —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:**
- üìà **"–û–±—ä–µ–º –ø—Ä–æ–¥–∞–∂ –ø–æ –º–µ—Å—è—Ü–∞–º"** - –≥—Ä–∞—Ñ–∏–∫ —Å—É–º–º—ã –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–¥–µ–ª–æ–∫ –ø–æ–º–µ—Å—è—á–Ω–æ
- üë• **"–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤"** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –∑–∞ –ø–µ—Ä–∏–æ–¥  
- üìä **"–õ–∏–¥—ã –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º"** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏–¥–æ–≤ –ø—Ä–∏—à–µ–¥—à–∏—Ö —Å –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- üîÑ **"–ö–æ–Ω–≤–µ—Ä—Å–∏—è –ª–∏–¥–æ–≤ –≤ —Å–¥–µ–ª–∫–∏"** - –ø—Ä–æ—Ü–µ–Ω—Ç –ª–∏–¥–æ–≤, —Å—Ç–∞–≤—à–∏—Ö —Å–¥–µ–ª–∫–∞–º–∏
- üìâ **"–í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂"** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ/—Å—É–º–º–∞ —Å–¥–µ–ª–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –≤–æ—Ä–æ–Ω–∫–∏

### ‚úÖ **–ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã**

**–ü–æ–ª–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**
- üìä **–°—Ç–æ–ª–±—á–∞—Ç—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã** - –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
- ü•ß **–ö—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã** - –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- üìà **–õ–∏–Ω–µ–π–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏** - –¥–ª—è —Ç—Ä–µ–Ω–¥–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏
- üî∫ **–í–æ—Ä–æ–Ω–∫–æ–æ–±—Ä–∞–∑–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã** - –¥–ª—è –≤–æ—Ä–æ–Ω–∫–∏ –ø—Ä–æ–¥–∞–∂
- üìã **–¢–∞–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** - —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –≤ CSV/Excel/PDF

### ‚úÖ **–ü–∞–Ω–µ–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–¥–∞—à–±–æ—Ä–¥—ã)**

**–ì–æ—Ç–æ–≤—ã–µ –¥–∞—à–±–æ—Ä–¥—ã –¥–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π:**
- üéØ **–°–≤–æ–¥–Ω—ã–π –¥–∞—à–±–æ—Ä–¥** - –æ—Å–Ω–æ–≤–Ω—ã–µ KPI –∏ –º–µ—Ç—Ä–∏–∫–∏
- ‚ö° **Real-time –¥–∞—à–±–æ—Ä–¥** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üìä **–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –¥–∞—à–±–æ—Ä–¥** - –¥–ª—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
- üë®‚Äçüíº **–î–∞—à–±–æ—Ä–¥ –º–µ–Ω–µ–¥–∂–µ—Ä–∞** - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

### ‚úÖ **–ì–æ—Ç–æ–≤—ã–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã**

**–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ BI-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã:**
- üé® **Apache Superset** - –∞–Ω–∞–ª–æ–≥ Tableau/Power BI (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
- üìà **Grafana** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∞—à–±–æ—Ä–¥—ã
- üîß **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤** - –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
- üì± **Embedded –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã –≤ CRM

### ‚úÖ **–ü—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (AI-–ø–æ–¥–¥–µ—Ä–∂–∫–∞)**

**AI/ML –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:**
- üîÆ **Sales Forecasting** - –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–∂ –Ω–∞ 3-6 –º–µ—Å—è—Ü–µ–≤ (Prophet/ARIMA)
- üö® **Anomaly Detection** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π (Isolation Forest)
- üìâ **Churn Prediction** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –æ—Ç—Ç–æ–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- üé§ **Revenue Intelligence** - –∞–Ω–∞–ª–∏–∑ –∑–≤–æ–Ω–∫–æ–≤ –∏ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤ (Whisper/BERT)
- ü§ñ **OpenAI Integration** - GPT-3.5 –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞–º

### ‚úÖ **–≠–∫—Å–ø–æ—Ä—Ç –∏ –ø–µ—á–∞—Ç—å**

**–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞:**
- üìÑ **CSV —ç–∫—Å–ø–æ—Ä—Ç** - –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ Excel
- üìã **PDF –æ—Ç—á–µ—Ç—ã** - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É  
- üìä **Excel —Ñ–∞–π–ª—ã** - —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- üîó **JSON API** - –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã

### ‚úÖ **–†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞**

**–°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- üîê **–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞** - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã, –º–µ–Ω–µ–¥–∂–µ—Ä—ã, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
- üë§ **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –º–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å–¥–µ–ª–∫–∏
- üè¢ **–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –æ—Ç—á–µ—Ç—ã** - –¥–∏—Ä–µ–∫—Ç–æ—Ä –≤–∏–¥–∏—Ç –≤–µ—Å—å –æ—Ç–¥–µ–ª
- üõ°Ô∏è **Tenant –∏–∑–æ–ª—è—Ü–∏—è** - –¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–π –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã

---

## üèóÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫**
```
Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
  ‚îú‚îÄ‚îÄ React/Next.js - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
  ‚îú‚îÄ‚îÄ TypeScript - —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API
  ‚îî‚îÄ‚îÄ Tailwind CSS - –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å —Å –æ—Å–Ω–æ–≤–Ω–æ–π CRM

Backend —Å–µ—Ä–≤–∏—Å—ã:
  ‚îú‚îÄ‚îÄ Analytics API - Node.js + TypeScript + Express
  ‚îú‚îÄ‚îÄ ML/AI Service - Python + FastAPI
  ‚îî‚îÄ‚îÄ Load Balancer - Nginx —Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π

–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
  ‚îú‚îÄ‚îÄ PostgreSQL - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
  ‚îú‚îÄ‚îÄ ClickHouse - –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–º–∏–ª–ª–∏–æ–Ω—ã –∑–∞–ø–∏—Å–µ–π)
  ‚îú‚îÄ‚îÄ Redis - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Å–µ—Å—Å–∏–π
  ‚îî‚îÄ‚îÄ pgvector - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–ª—è AI

BI –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
  ‚îú‚îÄ‚îÄ Apache Superset - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã
  ‚îú‚îÄ‚îÄ Grafana - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
  ‚îî‚îÄ‚îÄ Custom Dashboard - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
  ‚îú‚îÄ‚îÄ Docker + Docker Compose - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
  ‚îú‚îÄ‚îÄ Nginx - reverse proxy –∏ SSL
  ‚îú‚îÄ‚îÄ Backup System - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
  ‚îî‚îÄ‚îÄ Monitoring - health checks, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–µ—Ç—Ä–∏–∫–∏
```

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤**
```
                   Load Balancer (Nginx)
                  http://localhost:8080
                          ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                 ‚îÇ                 ‚îÇ
        ‚ñº                 ‚ñº                 ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Analytics   ‚îÇ   ‚îÇ   ML/AI     ‚îÇ   ‚îÇ Business    ‚îÇ
‚îÇ Service     ‚îÇ   ‚îÇ  Service    ‚îÇ   ‚îÇIntelligence ‚îÇ
‚îÇ   :8005     ‚îÇ   ‚îÇ   :8007     ‚îÇ   ‚îÇ Platforms   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                 ‚îÇ                 ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îÇ             ‚îÇ             ‚îÇ
            ‚ñº             ‚ñº             ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ PostgreSQL  ‚îÇ ‚îÇ ClickHouse  ‚îÇ ‚îÇ    Redis    ‚îÇ
    ‚îÇ   :5433     ‚îÇ ‚îÇ   :8123     ‚îÇ ‚îÇ   :6380     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π**
```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd analytics-service

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.analytics.yml up -d

# –û–∂–∏–¥–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (2-3 –º–∏–Ω—É—Ç—ã)
docker-compose -f docker-compose.analytics.yml logs -f
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose -f docker-compose.analytics.yml ps

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Analytics API
curl http://localhost:8005/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ ML/AI —Å–µ—Ä–≤–∏—Å–∞
curl http://localhost:8007/health

# –¢–µ—Å—Ç OpenAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
curl -X POST "http://localhost:8007/api/ml/text-analysis" \
  -H "Content-Type: application/json" \
  -d '{"text": "I want to buy your product", "context": "email", "participants": ["manager", "client"]}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Load Balancer
curl http://localhost:8080/health
```

### **–î–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º**

#### üåê **–û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã**
- **üè† –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å**: [http://localhost:8080](http://localhost:8080) - Load Balancer –∏ –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
- **üìä Analytics API**: [http://localhost:8005/api/docs](http://localhost:8005/api/docs) - Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **ü§ñ ML/AI —Å–µ—Ä–≤–∏—Å**: [http://localhost:8007/docs](http://localhost:8007/docs) - FastAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### üìà **BI –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã**
- **üé® Apache Superset**: [http://localhost:8006](http://localhost:8006) - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è BI –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
  - –õ–æ–≥–∏–Ω: `admin` / –ü–∞—Ä–æ–ª—å: `admin123`
  - –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–æ–≤, –æ—Ç—á–µ—Ç–æ–≤, –≥—Ä–∞—Ñ–∏–∫–æ–≤
- **üìä Grafana**: [http://localhost:3001](http://localhost:3001) - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
  - –õ–æ–≥–∏–Ω: `admin` / –ü–∞—Ä–æ–ª—å: `admin123`
  - –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏, –∞–ª–µ—Ä—Ç—ã

#### üóÑÔ∏è **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
- **‚ö° ClickHouse**: [http://localhost:8123](http://localhost:8123) - –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ë–î
- **üêò PostgreSQL**: `localhost:5433` - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **üíæ Redis**: `localhost:6380` - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

#### üîç **Health Check'–∏**
- **Analytics Service**: [http://localhost:8005/health](http://localhost:8005/health)
- **ML/AI Service**: [http://localhost:8007/health](http://localhost:8007/health)
- **Load Balancer**: [http://localhost:8080/health](http://localhost:8080/health)

---

## üì° API Endpoints

### **üéØ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç—á–µ—Ç—ã CRM (–∏–∑ –¢–ó)**

```bash
# –û–±—ä–µ–º –ø—Ä–æ–¥–∞–∂ –ø–æ –º–µ—Å—è—Ü–∞–º
GET /api/crm/sales-by-month
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: startDate, endDate, managerId, departmentId

# –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤  
GET /api/crm/manager-activity
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: startDate, endDate, departmentId, managerId

# –õ–∏–¥—ã –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
GET /api/crm/leads-by-source
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: startDate, endDate, sourceType

# –ö–æ–Ω–≤–µ—Ä—Å–∏—è –ª–∏–¥–æ–≤ –≤ —Å–¥–µ–ª–∫–∏
GET /api/crm/lead-conversion
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: startDate, endDate, managerId, sourceId

# –í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂
GET /api/crm/sales-funnel
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: startDate, endDate, managerId, pipelineId
```

### **üìä –î–∞—à–±–æ—Ä–¥—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**

```bash
# –°–≤–æ–¥–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
GET /api/dashboard/summary
# Headers: X-Tenant-ID: {uuid}

# Real-time –º–µ—Ç—Ä–∏–∫–∏
GET /api/dashboard/realtime

# –ï–¥–∏–Ω—ã–π –≥–∏–±—Ä–∏–¥–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
GET /api/hybrid/dashboard
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: widgets[], timeRange, filters
```

### **üìÑ –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤**

```bash
# –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
POST /api/hybrid/export/:format
{
  "reportType": "sales_by_month",
  "format": "csv|excel|pdf|json",
  "parameters": {
    "startDate": "2025-01-01",
    "endDate": "2025-12-31"
  }
}

# –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤
POST /api/hybrid/reports/builder
{
  "tables": ["deals", "contacts"],
  "fields": ["amount", "stage", "owner"],
  "aggregations": ["sum", "count"],
  "groupBy": ["month", "owner"]
}
```

### **ü§ñ ML/AI —Ñ—É–Ω–∫—Ü–∏–∏**

```bash
# –ü—Ä–æ–≥–Ω–æ–∑ –ø—Ä–æ–¥–∞–∂
GET /api/ml/forecast/sales?months=6&confidence=0.95

# –í—ã—è–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π
GET /api/ml/anomalies?type=sales&period=30d&severity=high

# –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –æ—Ç—Ç–æ–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
GET /api/ml/churn-candidates?risk_threshold=0.7

# –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞/–∑–≤–æ–Ω–∫–æ–≤ (Revenue Intelligence)
POST /api/ml/text-analysis
{
  "text": "I want to buy your product. Please help me with the purchase.",
  "context": "email",
  "participants": ["manager", "client"]
}

# –ê–Ω–∞–ª–∏–∑ –∑–≤–æ–Ω–∫–æ–≤ (–∞—É–¥–∏–æ)
POST /api/ml/call-analysis
{
  "audio_url": "s3://bucket/call.mp3", 
  "participants": ["manager", "client"]
}
```

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### **PostgreSQL (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)**
- `analytics_events` - —Å–æ–±—ã—Ç–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- `analytics_metrics` - –ø—Ä–µ–¥—Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- `saved_reports` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã
- `user_sessions` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–µ—Å—Å–∏–∏

### **ClickHouse (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞)**
- `deals` - —Ä–µ–ø–ª–∏–∫–∞ —Å–¥–µ–ª–æ–∫ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –ë–î
- `leads` - —Ä–µ–ø–ª–∏–∫–∞ –ª–∏–¥–æ–≤ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π –ë–î  
- `activities` - –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- `monthly_sales_mv` - –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

### **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- **–ü–∞—Ä—Ç–∏—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –º–µ—Å—è—Ü–∞–º** - –±—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- **–ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è** - –ø—Ä–µ–¥—Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
- **–ò–Ω–¥–µ–∫—Å—ã PostgreSQL** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- **Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∫—ç—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
# –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ç–∞ –∂–µ —á—Ç–æ —É Kotlin CRM)
DB_HOST=localhost
DB_NAME=salesforce_clone
DB_USERNAME=postgres
DB_PASSWORD=password

# ClickHouse (–∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ë–î)
CLICKHOUSE_HOST=localhost
CLICKHOUSE_USER=analytics
CLICKHOUSE_PASSWORD=analytics_password

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL=10000
ENABLE_REALTIME=true

# OpenAI API –¥–ª—è Revenue Intelligence
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# JWT (—Ç–æ—Ç –∂–µ —á—Ç–æ —É –æ—Å–Ω–æ–≤–Ω–æ–π CRM)
JWT_SECRET=your-jwt-secret
```

---

## üìä –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é

### ‚úÖ **100% –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –¢–ó**

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó | –°—Ç–∞—Ç—É—Å | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|---------------|--------|------------|
| **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç—á–µ—Ç—ã** | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—Å–µ 5 –æ—Ç—á–µ—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å API |
| **–ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã** | ‚úÖ –ì–æ—Ç–æ–≤–æ | –°—Ç–æ–ª–±—á–∞—Ç—ã–µ, –∫—Ä—É–≥–æ–≤—ã–µ, –ª–∏–Ω–µ–π–Ω—ã–µ, –≤–æ—Ä–æ–Ω–∫–∞ |
| **–ü–∞–Ω–µ–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** | ‚úÖ –ì–æ—Ç–æ–≤–æ | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –¥–∞—à–±–æ—Ä–¥—ã —Å –≤–∏–¥–∂–µ—Ç–∞–º–∏ |
| **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ—Ç—á–µ—Ç–æ–≤** | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í–∏–∑—É–∞–ª—å–Ω—ã–π SQL-builder |
| **–†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞** | ‚úÖ –ì–æ—Ç–æ–≤–æ | –†–æ–ª–∏, –ø—Ä–∞–≤–∞, tenant –∏–∑–æ–ª—è—Ü–∏—è |
| **BI –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã** | ‚úÖ –ì–æ—Ç–æ–≤–æ | Superset + Grafana –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è |
| **–ü—Ä–æ–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** | ‚úÖ –ì–æ—Ç–æ–≤–æ | 4 AI/ML –º–æ–¥–µ–ª–∏ |
| **–≠–∫—Å–ø–æ—Ä—Ç –∏ –ø–µ—á–∞—Ç—å** | ‚úÖ –ì–æ—Ç–æ–≤–æ | CSV, PDF, Excel —ç–∫—Å–ø–æ—Ä—Ç |

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (—Å–≤–µ—Ä—Ö –¢–ó)**
- ‚úÖ **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - WebSocket –¥–ª—è live –¥–∞—à–±–æ—Ä–¥–æ–≤
- ‚úÖ **ML/AI —Å–µ—Ä–≤–∏—Å** - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ —Å –ò–ò
- ‚úÖ **Load Balancer** - –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production –Ω–∞–≥—Ä—É–∑–∫–∞–º
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã** - —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - health checks –∏ –º–µ—Ç—Ä–∏–∫–∏

---

## ü§ñ OpenAI Integration (Revenue Intelligence)

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenAI API**

1. **–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á OpenAI:**
   - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [platform.openai.com](https://platform.openai.com)
   - –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á –≤ —Ä–∞–∑–¥–µ–ª–µ API Keys
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á —Ñ–æ—Ä–º–∞—Ç–∞: `sk-proj-...`

2. **–î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```bash
# –í docker-compose.analytics.yml
environment:
  - OPENAI_API_KEY=sk-proj-your-actual-openai-api-key-here
```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ ML —Å–µ—Ä–≤–∏—Å:**
```bash
docker-compose -f docker-compose.analytics.yml restart ml-ai-service
```

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å OpenAI**

#### üéØ **Revenue Intelligence**
- **–ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è** –∫–ª–∏–µ–Ω—Ç–æ–≤ (BERT + OpenAI enhancement)
- **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏–π** (purchase, support, complaint, info)
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤** —Å –ø–æ–º–æ—â—å—é GPT-3.5-turbo
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ** —è–∑—ã–∫–æ–≤

#### üîç **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –ê–Ω–∞–ª–∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
curl -X POST "http://localhost:8007/api/ml/text-analysis" \
  -H "Content-Type: application/json" \
  -d '{
    "text": "I want to buy your product. Please help me with the purchase.",
    "context": "email",
    "participants": ["manager", "client"]
  }'
```

#### üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞:**
```json
{
  "success": true,
  "sentiment": {
    "overall": "positive",
    "confidence": 0.85
  },
  "intent": "purchase_intent",
  "action_required": true,
  "suggested_response": "–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å –∫ –Ω–∞—à–µ–º—É –ø—Ä–æ–¥—É–∫—Ç—É! –Ø –ø–æ–¥–≥–æ—Ç–æ–≤–ª—é –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏ —Å–≤—è–∂—É—Å—å —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –ø–æ–∫—É–ø–∫–∏."
}
```

### **Fallback —Å–∏—Å—Ç–µ–º–∞**
- –ï—Å–ª–∏ OpenAI API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–µ BERT –º–æ–¥–µ–ª–∏
- –ï—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ ‚Üí —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ñ–ª–∞–π–Ω —à–∞–±–ª–æ–Ω—ã –æ—Ç–≤–µ—Ç–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö AI –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### **–°—Ç–æ–∏–º–æ—Å—Ç—å OpenAI:**
- GPT-3.5-turbo: ~$0.002 –∑–∞ 1000 —Ç–æ–∫–µ–Ω–æ–≤
- –°—Ä–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å: ~150 —Ç–æ–∫–µ–Ω–æ–≤ = $0.0003
- 1000 –∞–Ω–∞–ª–∏–∑–æ–≤ —Ç–µ–∫—Å—Ç–∞ ‚âà $0.30

---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω–æ–π CRM

### **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
```typescript
// –¢—Ä–µ–∫–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π –∏–∑ Kotlin CRM
class AnalyticsClient {
  async track(event: {
    tenantId: string;
    userId: string;
    eventName: string;
    properties: Record<string, any>;
  }): Promise<void> {
    await this.httpClient.post('/api/events/track', event);
  }
}
```

### **Real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**
- –¢—Ä–∏–≥–≥–µ—Ä—ã PostgreSQL –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
- WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

### **Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
```typescript
// React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
import { AnalyticsWidget } from '@crm/analytics-components';

function SalesDashboard() {
  return (
    <div>
      <AnalyticsWidget type="sales-funnel" />
      <AnalyticsWidget type="revenue-forecast" />
    </div>
  );
}
```

---

## üöÄ Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

### **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ **Multiple instances** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
- ‚úÖ **Load Balancer** - —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **Resource limits** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è CPU/–ø–∞–º—è—Ç–∏
- ‚úÖ **Health checks** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- ‚úÖ **Docker Secrets** - –ø–∞—Ä–æ–ª–∏ –∏ –∫–ª—é—á–∏ –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- ‚úÖ **HTTPS –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - SSL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
- ‚úÖ **Auth –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω–æ–π CRM –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- ‚úÖ **Audit –ª–æ–≥–∏** - –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- ‚úÖ **Health endpoints** - /health –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ **Prometheus –º–µ—Ç—Ä–∏–∫–∏** - /metrics –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ **Grafana –¥–∞—à–±–æ—Ä–¥—ã** - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ **Error tracking** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### **Backup & Recovery**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã** - PostgreSQL –∏ ClickHouse
- ‚úÖ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á** - cron –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤
- ‚úÖ **–†–æ—Ç–∞—Ü–∏—è –±—ç–∫–∞–ø–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö
- ‚úÖ **Recovery –ø—Ä–æ—Ü–µ–¥—É—Ä—ã** - —Å–∫—Ä–∏–ø—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üí∞ –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –≤—ã–≥–æ–¥–∞

### **–°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è: $0/–º–µ—Å—è—Ü**
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ (open-source)
- –ù–µ—Ç –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- Self-hosted —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏**
| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –°—Ç–æ–∏–º–æ—Å—Ç—å/–º–µ—Å—è—Ü | –ù–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ |
|-----------|-----------------|--------------|
| Tableau | $70/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | $0 |
| Power BI | $10/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | $0 |
| Looker | $5000/–º–µ—Å—è—Ü | $0 |
| **–û–±—â–∞—è —ç–∫–æ–Ω–æ–º–∏—è** | **$50k+/–≥–æ–¥** | **‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ** |

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**
- ‚úÖ **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** - –Ω–∏–∫–∞–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- ‚úÖ **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è** - –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ **–î–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è —É –≤–∞—Å** - –Ω–∏–∫–∞–∫–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –æ–±–ª–∞–∫–æ–≤
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –Ω–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ**
- –í—Å–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í—Å–µ –æ—Ç—á–µ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ  
- ML –º–æ–¥–µ–ª–∏ –≤—ã–¥–∞—é—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
- –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- **OpenAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚úÖ
- **Revenue Intelligence –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º** ‚úÖ

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è**
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API: <100ms (95-–π –ø—Ä–æ—Ü–µ–Ω—Ç–∏–ª—å)
- ClickHouse –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–∏–ª–ª–∏–æ–Ω—ã –∑–∞–ø–∏—Å–µ–π –∑–∞ —Å–µ–∫—É–Ω–¥—ã
- Real-time –¥–∞—à–±–æ—Ä–¥—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Redis –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: ‚úÖ –í—ã—Å–æ–∫–∞—è**
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã healthy –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- Health checks –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 100% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–µ–∑–¥–µ

---

## üìã –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:** 100% –≤—ã–ø–æ–ª–Ω–µ–Ω—ã ‚úÖ  
**Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 100% –≥–æ—Ç–æ–≤ ‚úÖ  
**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM:** 100% —Å–æ–≤–º–µ—Å—Ç–∏–º–æ ‚úÖ  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** 100% –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ

### **–ß—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:**
1. **–ì–æ—Ç–æ–≤—ã–π –∫ —Ä–∞–±–æ—Ç–µ —Å–µ—Ä–≤–∏—Å** - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
2. **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - API, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
3. **Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –±—ç–∫–∞–ø—ã
4. **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** - –¥–µ–º–æ –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã** - –∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –æ—Å–Ω–æ–≤–Ω–æ–π CRM

### **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å: `docker-compose -f docker-compose.analytics.yml up -d`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: –æ—Ç–∫—Ä—ã—Ç—å http://localhost:8080
3. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –æ—Å–Ω–æ–≤–Ω–æ–π CRM —á–µ—Ä–µ–∑ API
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
5. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ - –ø–æ–ª—É—á–∏—Ç—å –¥–æ–º–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**

---

*Analytics Service –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π enterprise-grade —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫–∏, –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é –∏ –≥–æ—Ç–æ–≤–æ–µ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π CRM —Å–∏—Å—Ç–µ–º–æ–π.*